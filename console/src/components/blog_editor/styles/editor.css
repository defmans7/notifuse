/* =====================================================
   EDITOR STYLES
   Editor-specific styles, text formatting, and layout
   ===================================================== */
   
/* Ensure each top-level node has relative positioning */
.notifuse-editor.ProseMirror > * {
  position: relative;
}

/* =====================
   CORE EDITOR STYLES
   ===================== */
.notifuse-editor.ProseMirror,
.tiptap.ProseMirror.notifuse-editor {
  white-space: pre-wrap;
  outline: none;
  caret-color: var(--notifuse-editor-cursor-color);
  font-family: var(--editor-default-font-family);
  font-size: var(--editor-default-font-size);
  color: var(--editor-default-color);
  background-color: var(--editor-default-background-color);
  line-height: var(--editor-default-line-height);
}

/* Selection styles */
.notifuse-editor.ProseMirror:not(.readonly):not(.ProseMirror-hideselection) ::selection {
  background-color: var(--notifuse-editor-selection-color);
}

.notifuse-editor.ProseMirror:not(.readonly):not(.ProseMirror-hideselection) .selection::selection {
  background: transparent;
}

.notifuse-editor.ProseMirror .selection {
  display: inline;
  background-color: var(--notifuse-editor-selection-color);
}

/* Selected node styles */
.notifuse-editor.ProseMirror .ProseMirror-selectednode:not(img):not(pre):not(.react-renderer) {
  border-radius: 0.375rem;
  background-color: var(--notifuse-editor-selection-color);
}

.notifuse-editor.ProseMirror.ProseMirror-hideselection {
  caret-color: transparent;
}

/* Resize cursor */
.notifuse-editor.ProseMirror.resize-cursor {
  cursor: ew-resize;
  cursor: col-resize;
}

/* =====================
   TEXT DECORATION
   ===================== */

/* Text decoration inheritance for spans */
.notifuse-editor.ProseMirror a span {
  text-decoration: underline;
}

.notifuse-editor.ProseMirror s span {
  text-decoration: line-through;
}

.notifuse-editor.ProseMirror u span {
  text-decoration: underline;
}

/* =====================
   EMOJI
   ===================== */
.notifuse-editor.ProseMirror [data-type="emoji"] img {
  display: inline-block;
  width: 1.25em;
  height: 1.25em;
  cursor: text;
}

/* =====================
   LINKS
   ===================== */
.notifuse-editor.ProseMirror a {
  color: var(--editor-link-color);
  text-decoration: underline;
}

.notifuse-editor.ProseMirror a:hover {
  color: var(--editor-link-hover-color);
}

/* =====================
   PLACEHOLDER
   ===================== */
.is-empty:not(.with-slash)[data-placeholder]:has(> .ProseMirror-trailingBreak:only-child)::before {
  content: attr(data-placeholder);
}

.is-empty.with-slash[data-placeholder]:has(> .ProseMirror-trailingBreak:only-child)::before {
  content: "Write, type '/' for commandsâ€¦";
  font-style: italic;
}

.is-empty[data-placeholder]:has(> .ProseMirror-trailingBreak:only-child):before {
  pointer-events: none;
  height: 0;
  position: absolute;
  width: 100%;
  text-align: inherit;
  left: 0;
  right: 0;
}

.is-empty[data-placeholder]:has(> .ProseMirror-trailingBreak):before {
  color: var(--placeholder-color);
}

/* =====================
   DROPCURSOR
   ===================== */
.prosemirror-dropcursor-block,
.prosemirror-dropcursor-inline {
  background: #60a5fa !important;
  border-radius: 0.25rem;
  margin-left: -1px;
  margin-right: -1px;
  width: 100%;
  height: 0.188rem;
  cursor: grabbing;
}

/* =====================
   EDITOR LAYOUT
   ===================== */

/* Important so this does not override the editor behaviour */
@media screen and (max-width: 480px) {
  .notifuse-editor-wrapper {
    width: 100vw;
    height: 100vh;
    overflow: auto;
  }
}

.notifuse-editor-content {
  max-width: 768px;
  width: 100%;
  margin: 0 auto;
  height: 100%;
  display: flex;
  flex-direction: column;
  flex: 1;
}

.notifuse-editor-content .notifuse-editor.ProseMirror.notifuse-editor {
  flex: 1;
  padding: 3rem 3rem 30vh;
}

@media screen and (max-width: 480px) {
  .notifuse-editor-content .notifuse-editor.ProseMirror.notifuse-editor {
    padding: 1.5rem 1.5rem 30vh;
  }
}